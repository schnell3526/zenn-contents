---
title: "æ·±å±¤å­¦ç¿’ç”¨å…±ç”¨è¨ˆç®—è³‡æºã®ç’°å¢ƒæ§‹ç¯‰"
emoji: "ğŸ˜Š"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ['deeplearning', 'ç’°å¢ƒæ§‹ç¯‰', 'gcc', 'cuda']
published: false
---

ç ”ç©¶å®¤ã§ç”¨ã„ã¦ã„ã‚‹å…±ç”¨è¨ˆç®—è³‡æºã®ç®¡ç†ã®ãƒ¡ãƒ¢æ›¸ãã§ã™ã€‚
ã‚¯ãƒ©ã‚¹ã‚¿åŒ–ã¯è¡Œã£ã¦ãŠã‚‰ãšã€1å°ã®è¨ˆç®—æ©Ÿã‚’è¤‡æ•°äººã§ä½¿ã†å ´åˆã‚’æƒ³å®šã—ã¦ã„ã¾ã™ã€‚
æœ¬å½“ã¯ã‚³ãƒ³ãƒ†ãƒŠã‚’ä½¿ã£ã¦ã‚ˆã‚ŠæŸ”è»Ÿã«ç’°å¢ƒè¨­å®šã‚’ã—ãŸã‹ã£ãŸã®ã§ã™ãŒã€ãƒ—ãƒ­ã‚­ã‚·ã®é–¢ä¿‚ä¸Šã‚³ãƒ³ãƒ†ãƒŠå†…ã‹ã‚‰å¤–éƒ¨ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ãŒéå¸¸ã«é›£ã—ã‹ã£ãŸã®ã§ã€å¿…è¦ãªã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã‚’è¤‡æ•°ãƒãƒ¼ã‚¸ãƒ§ãƒ³å…±å­˜ã•ã›enviroment moduleã§åˆ‡ã‚Šæ›¿ãˆã¦åˆ©ç”¨ã™ã‚‹ã¨ã„ã†æ–¹å¼ã‚’ã¨ã‚Šã¾ã—ãŸã€‚

# å„ç¨®ãƒ„ãƒ¼ãƒ«ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
å„ç¨®ãƒ„ãƒ¼ãƒ«ã¯`/apps`ä»¥ä¸‹ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã—ãŸã€‚Pythonã‚„CUDAç­‰ã®è¤‡æ•°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ã“ã¡ã‚‰ã«ã¾ã¨ã‚ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚
## ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©
gccã¯`11.2.0`ã€`7.4.0`ã€`9.3.0`ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã—ãŸã€‚
```
gcc/
â”œâ”€â”€ 11.2.0
â”œâ”€â”€ 7.3.0
â”œâ”€â”€ 7.4.0
â””â”€â”€ 9.3.0
```
ã¾ãšã¯[ã“ã¡ã‚‰](http://ftp.tsukuba.wide.ad.jp/software/gcc/)ã‹ã‚‰å¿…è¦ãªgccã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚åŸºæœ¬çš„ã«ã¯ä»¥ä¸‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®`GCC_VERSION`ã«å¿…è¦ãªãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æŒ‡å®šã™ã‚Œã°ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã§ãã‚‹ã¨æ€ã„ã¾ã™ã€‚
```shell
GCC_VERSION=4.8.5
wget http://ftp.tsukuba.wide.ad.jp/software/gcc/releases/gcc-${GCC_VERSION}/gcc-${GCC_VERSION}.tar.gz
tar xzvf gcc-${GCC_VERSION}.tar.gz
cd gcc-${GCC_VERSION}
./contrib/download_prerequisites
mkdir bld && cd bld
../configure --enable-languages=c,c++ --prefix=/apps/gcc/${GCC_VERSION}  --disable-multilib
```
æ¬¡ã«ãƒ“ãƒ«ãƒ‰ã‚’è¡Œã„ã¾ã™ã€‚ã“ã®æ“ä½œã¯ã‹ãªã‚Šæ™‚é–“ãŒã‹ã‹ã‚‹ã¨æ€ã„ã¾ã™ã€‚16ã‚³ã‚¢ç’°å¢ƒã§30åˆ†ã»ã©ã‹ã‹ã‚Šã¾ã—ãŸã€‚
```shell
make -j`nproc` > /dev/null
```
ãƒ“ãƒ«ãƒ‰ãŒçµ‚äº†ã—ãŸã‚‰ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚
```shell
make install > /dev/null
```
ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ããŸã‹ç¢ºèªã—ã¾ã™ã€‚
```shell
/apps/gcc/${GCC_VERSION} --version
```

## Python
[ã“ã“](https://www.python.org/downloads/)ã‹ã‚‰è©²å½“ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã€‚
```shell
PYTHON_VERSION=3.8.14
wget https://www.python.org/ftp/python/${PYTHON_VERSION}/Python-${PYTHON_VERSION}.tar.xz
tar xJvf Python-${PYTHON_VERSION}.tar.xz

cd Python-${PYTHON_VERSION}
mkdir bld && cd bld
../configure --prefix=/apps/python/${PYTHON_VERSION} --with-ensurepip --enable-optimizations
```


```shell
m
```

## CUDA
[å‚è€ƒè¨˜äº‹](https://qiita.com/syoamakase/items/8b9570d79effbb458b10)
[ã“ã“](https://developer.nvidia.com/cuda-toolkit-archive)ã‹ã‚‰å¿…è¦ãªãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’é¸ã¶ã€‚
ä»Šå›ã¯ã¨ã‚Šã‚ãˆãš11.3.0ã‚’é¸ã³ã¾ã—ãŸã€‚runfileã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã®ãŒãƒã‚¤ãƒ³ãƒˆã§ã™ã€‚
![](https://storage.googleapis.com/zenn-user-upload/b1980c5dcb9a-20221003.png)

```shell
wget https://developer.download.nvidia.com/compute/cuda/11.6.2/local_installers/cuda_11.6.2_510.47.03_linux.run
sh cuda_11.6.2_510.47.03_linux.run  --installpath=/apps/cuda/11.6.2
```
ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸrunãƒ•ã‚¡ã‚¤ãƒ«ã‚’èµ·å‹•ã™ã‚‹ã¨CUIã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ãŒå‡ºã¦ãã¾ã™ã®ã§ä»¥ä¸‹ã®ã‚ˆã†ã«å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚
1. ã€Œacceptã€ã¨å…¥åŠ›
2. CUDA Toolkit ã®ã¿é¸æŠ
3. ã€Œinstallã€ã‚’æŠ¼ä¸‹
ã¨é€²ã¿ã¾ã™ã€‚

ä»¥ä¸Šã®æ“ä½œã§è¨­å®šã—ãŸã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å…ˆã«cudaãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚ŒãŸã¨æ€ã„ã¾ã™ã€‚